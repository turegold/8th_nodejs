#  ğŸ¤©2ì£¼ì°¨ ë¯¸ì…˜ 

## 1ï¸âƒ£ ë¯¸ì…˜ 1
### ì§„í–‰ ì¤‘ì¸ ë¯¸ì…˜ì„ ë³´ëŠ” ì¿¼ë¦¬
```
SELECT
    um.id AS user_mission_id,
    m.name AS mission_name,
    m.reward AS mission_reward,
    m.minimum_price AS min_price,
    m.id AS m_id,
    s.name AS s_name,
    um.state
FROM user_mission um
JOIN mission m ON um.mission_id = m.id
JOIN store s ON s.id = um.store_id
WHERE um.user_phone_number = '010-1111-2222' AND state = 'in_progress'
ORDER BY um.id DESC
LIMIT 10 OFFSET 0;
```
### ì™„ë£Œí•œ ë¯¸ì…˜ì„ ë³´ëŠ” ì¿¼ë¦¬
```
SELECT
    um.id AS user_mission_id,
    m.name AS mission_name,
    m.reward AS mission_reward,
    m.minimum_price AS min_price,
    m.id AS m_id,
    s.name AS s_name,
    um.state,
    um.completed_time,
    um.review_written
FROM user_mission um
JOIN mission m ON um.mission_id = m.id
JOIN store s ON s.id = um.store_id
WHERE um.user_phone_number = '010-1111-2222' AND state = 'completed'
ORDER BY um.completed_time DESC
LIMIT 10 OFFSET 0;
```
## 2ï¸âƒ£ ë¯¸ì…˜ 2
### ê°€ê²Œì˜ ë¦¬ë·°ë¥¼ í™•ì¸í•˜ëŠ” ì¿¼ë¦¬
```
SELECT
    r.store_id AS store_id,
    u.nickname AS user_nickname,
    r.rating AS rating,
    r.description AS description,
    r.created_time
FROM review r
JOIN user u ON r.user_phone_number = u.phone_number
WHERE r.store_id = 1
ORDER BY r.created_time DESC
```
### ê°€ê²Œì˜ ë¦¬ë·°ë¥¼ ì‘ì„±í•˜ëŠ” ì¿¼ë¦¬
```
INSERT INTO review (user_mission_id, user_phone_number, store_id, description, rating)
VALUES (1, '010-1111-2222', 1, 'ê¹€ë°¥ì´ ë„ˆë¬´ ë§›ìˆì—ˆì–´ìš”! ë‹¤ìŒì— ë˜ ë°©ë¬¸í•˜ê³  ì‹¶ì–´ìš”.', 4.5);
```
## 3ï¸âƒ£ ë¯¸ì…˜ 3
### í™ˆí™”ë©´ ìƒë‹¨ ë‚´ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¿¼ë¦¬
```
SELECT
    u.phone_number AS phone_num,
    u.nickname AS nickname,
    u.address AS address,
    u.total_point AS total_point,
    (SELECT COUNT(*)
     FROM user_mission um
     WHERE um.user_phone_number = u.phone_number
     AND um.state = 'completed') AS completed_mission_count
FROM user u
WHERE u.phone_number = '010-1111-2222';
```
### í™ˆ í™”ë©´ í•˜ë‹¨, ì•„ì§ ìˆ˜ë½í•˜ì§€ ì•Šì€ ë¯¸ì…˜ë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¿¼ë¦¬
```
SELECT
    m.id AS mission_id,
    m.name AS mission_name,
    m.reward,
    m.minimum_price,
    m.end_time,
    s.name AS store_name,
    s.address AS store_address
FROM mission m
JOIN store s ON m.store_id = s.id
LEFT JOIN user_mission um
    ON m.id = um.mission_id
    AND um.user_phone_number = '010-1111-2222'
WHERE um.id IS NULL
		AND m.start_time <= NOW()
    AND m.end_time >= NOW()
ORDER BY m.created_time DESC
LIMIT 10 OFFSET 0;
```
í™”ë©´ì„ ë‚´ë¦¬ë©´ ì•„ì§ ìˆ˜ë½í•˜ì§€ ì•Šì€ ë¯¸ì…˜ë“¤ë§Œ ë¶ˆëŸ¬ì˜¤ê¸° ë•Œë¬¸ì— ìƒë‹¨ ì¿¼ë¦¬ì™€ í•˜ë‹¨ ì¿¼ë¦¬ë¡œ ë¶„ë¦¬í•˜ì˜€ìŒ.

## 4ï¸âƒ£ ë¯¸ì…˜ 4
```
SELECT
    nickname,
    phone_number,
    total_point
FROM user
WHERE phone_number = '010-1111-2222';
```
